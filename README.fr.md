![](https://dev.lutece.paris.fr/jenkins/buildStatus/icon?job=cms-plugin-document-deploy)
[![Alerte](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Aplugin-document&metric=alert_status)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Aplugin-document)
[![Line of code](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Aplugin-document&metric=ncloc)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Aplugin-document)
[![Coverage](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Aplugin-document&metric=coverage)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Aplugin-document)

# Plugin Document

## Introduction

Le plugin Document constitue l'application de gestion de contenu d'un portail Lutece.

Ses principales fonctionnalités sont :


 
* La création dynamique de documents structurés. Un type de document est créé en définissant différents attributs : champs texte simples ou enrichis, dates, objets multimédia, pièces jointes, valeurs à choisir dans une liste, ...
* Le cycle de vie des documents (création, validation, publication, archivage, ...) se déroule à l'intérieur d'espaces de classement organisés à la manière de répertoires. Les opérations sur les documents et les espaces sont soumises à des droits d'accès entièrement paramétrables et intégrées dans la gestion de la sécurité de Lutèce.
* Un moteur de règles permet de créer dynamiquement des opérations de gestion des documents telles que des déplacements d'espaces ou des notifications à des listes de diffusion par courrier électronique.
* Les documents sont également catégorisables sur la base d'un thésaurus et peuvent bénéficier d’un système de métadonnées extensible (Dublin Core ou autre).
* Pour la publication, le plugin fournit également deux portlets permettant de publier un ou une liste de documents. Il gère des dates de mise en ligne et de retrait automatique, ainsi qu’un ordonnancement ou une suspension manuel de chacun des documents.
* Les documents sont accessibles par le moteur de recherche. Celui-ci indexe en texte intégral les zones de contenu définies comme « à indexer » dans le type du document.


## Usage

 **Indexation des documents** 

Après la création ou la modification de documents, il est nécessaire de lancer le démon d'indexation `docSearchIndexer` pour que les nouveaux documents ou les modifications soient pris en compte dans les résultats de recherche.

Le démon d'indexation peut être lancé manuellement depuis l'interface d'administration (Système → Démons) ou s'exécute automatiquement selon la configuration définie.

## Configuration

 **Indexation et Parsers** 

Pour une indexation complète des documents, notamment des fichiers binaires (PDF, Office, etc.), il est recommandé d'installer le **plugin-parser** .

Le plugin document fournit un parser HTML par défaut ( `DefaultDocumentIndexerParser` ) qui utilise JSoup pour extraire le texte des contenus HTML. Ce parser a une priorité basse (priorité 2).

Le plugin-parser fournit un parser universel basé sur Apache Tika ( `TikaAutoDetectParser` ) qui a une priorité plus élevée (priorité 1). Ce parser détecte automatiquement le format des documentset peut traiter :
 
* PDF
* Documents MS Office (DOC, XLS, PPT, DOCX, XLSX, PPTX)
* Documents OpenDocument (ODT, ODS, ODP)
* HTML, XML
* Archives (ZIP, RAR, etc.)
* Et de nombreux autres formats


 **Note :** Le plugin-parser apporte des dépendances lourdes (Apache Tika et ses bibliothèques). Si vous n'avez besoin que de l'indexation HTML, le parser par défaut du plugin document suffit.Pour une indexation complète incluant les fichiers binaires, installez le plugin-parser.

Le système de priorité CDI sélectionne automatiquement le parser disponible avec la priorité la plus élevée.


[Maven documentation and reports](https://dev.lutece.paris.fr/plugins/plugin-document/)



 *generated by [xdoc2md](https://github.com/lutece-platform/tools-maven-xdoc2md-plugin) - do not edit directly.*