<?xml version="1.0" encoding="UTF-8"?>
<document>
    <properties>
        <title>
            Document plugin
        </title>
    </properties>
    <body>
        <section name="Document Plugin">
            <subsection name="Introduction">
                <p>
                    The Document plugin is the content management application of a Lutece portal.
                </p>
            <p>
                Its main features are : 
            </p>
            <p>
                <ul>
                    <li>
                        Dynamic creation of structured documents. A type of document is created by defining different attributes: 
                        simple or enriched text fields, dates, multimedia objects, attachments, values to choose from a list, ...
                    </li>
                    <li>
                        The life cycle of the documents (creation, validation, publication, archiving, ...) takes place 
                        within filing spaces organized like directories. 
                        The operations on the documents and spaces are subject to access rights 
                        that can be fully parameterized and integrated in the security management of Lutece.
                    </li>
                    <li>
                        A rules engine allows to dynamically create document management operations 
                        such as moving spaces or notifications to mailing lists by email.
                    </li>
                    <li>
                        The documents are also categorizable on the basis of a thesaurus and can benefit 
                        from an extensible metadata system (Dublin Core or other).
                    </li>
                    <li>
                        For publishing, the plugin also provides two portlets allowing to publish one or a list of documents. 
                        It manages automatic upload and removal dates, as well as a manual scheduling or suspension of each document.
                    </li>
                    <li>
                        The documents are accessible through the search engine. 
                        The search engine indexes in full text the content areas defined as "to be indexed" in the document type. 
                    </li>
                </ul>
            </p>
            </subsection>
            
            <subsection name="Usage">
                <p>
                    <strong>Document Indexing</strong>
                </p>
                <p>
                    After creating or modifying documents, it is necessary to run the indexing daemon 
                    <code>docSearchIndexer</code> so that the new documents or modifications are included 
                    in the search results.
                </p>
                <p>
                    The indexing daemon can be launched manually from the administration interface 
                    (System â†’ Daemons) or runs automatically according to the defined configuration.
                </p>
            </subsection>
            
            <subsection name="Configuration">
                <p>
                    <strong>Indexing and Parsers</strong>
                </p>
                <p>
                    For complete document indexing, especially for binary files (PDF, Office, etc.), 
                    it is recommended to install the <strong>plugin-parser</strong>.
                </p>
                <p>
                    The document plugin provides a default HTML parser (<code>DefaultDocumentIndexerParser</code>) 
                    which uses JSoup to extract text from HTML content. This parser has a low priority (priority 2).
                </p>
                <p>
                    The plugin-parser provides a universal parser based on Apache Tika (<code>TikaAutoDetectParser</code>) 
                    which has a higher priority (priority 1). This parser automatically detects document formats 
                    and can process:
                    <ul>
                        <li>PDF</li>
                        <li>MS Office documents (DOC, XLS, PPT, DOCX, XLSX, PPTX)</li>
                        <li>OpenDocument documents (ODT, ODS, ODP)</li>
                        <li>HTML, XML</li>
                        <li>Archives (ZIP, RAR, etc.)</li>
                        <li>And many other formats</li>
                    </ul>
                </p>
                <p>
                    <strong>Note:</strong> The plugin-parser brings heavy dependencies (Apache Tika and its libraries). 
                    If you only need HTML indexing, the document plugin's default parser is sufficient. 
                    For complete indexing including binary files, install the plugin-parser.
                </p>
                <p>
                    The CDI priority system automatically selects the available parser with the highest priority.
                </p>
            </subsection>
        </section>
    </body>
</document>
          